@if (userData(); as userData) {
  <div id="profile-page-content">
    <app-profile-page-header
      [userData]="userData"
      [profileData]="userProfile()"
      (editProfile)="openEditDialog()"
    />

    <app-tabs
      class="padded-tabs"
      [tabs]="availableTabs"
      (selectChange)="selectedTab.set($event.value)"
      #tabs
    >
      <aside>
        <!-- @if (selectedTab() !== 'groups') {
          <app-search-bar (searchTextChanged)="searchText.set($event)" />
        } -->
        <app-search-bar (searchTextChanged)="searchText.set($event)" />
      </aside>
      @switch (tabs.selectedTab()?.value) {
        @case ('objects') {
          <app-profile-entities entityType="finished" [searchText]="searchText()" />
        }
        @case ('drafts') {
          <app-profile-entities entityType="unfinished" [searchText]="searchText()" />
        }
        @case ('collections') {
          <app-profile-compilations [searchText]="searchText()" />
        }
        <!-- @case ('groups') {
          <app-profile-groups />
        } -->
      }
    </app-tabs>
  </div>
} @else {
  <div id="profile-page-content">
    <div class="loading-container">
      <h1 style="color: var(--brand-color)">{{ 'Loading profile data' | translate }}...</h1>
      <mat-spinner strokeWidth="5" mode="indeterminate" />
    </div>
  </div>
}
